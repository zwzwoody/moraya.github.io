{
  "name": "publish-post",
  "description": "发布 Hexo 博客文章：整理图片资源、添加 front matter、推送到 GitHub",
  "steps": [
    {
      "type": "prompt",
      "message": "请输入 markdown 文章文件的路径（相对于 source/_posts 的路径或完整路径）：",
      "variable": "post_path"
    },
    {
      "type": "prompt",
      "message": "请输入文章标题：",
      "variable": "post_title"
    },
    {
      "type": "prompt",
      "message": "请输入文章标签（用逗号分隔，如：技术,前端,Hexo）：",
      "variable": "post_tags"
    },
    {
      "type": "command",
      "command": "node .claude/skills/scripts/publish-post.js \"${post_path}\" \"${post_title}\" \"${post_tags}\"",
      "description": "处理文章文件、移动图片、添加 front matter"
    },
    {
      "type": "prompt",
      "message": "是否推送到 GitHub？(y/n)：",
      "variable": "should_push"
    },
    {
      "type": "command",
      "command": "if /I \"${should_push}\"==\"y\" (git add . && git commit -m \"Add post: ${post_title}\" && git push) else (echo 跳过推送)",
      "description": "推送到 GitHub"
    }
  ]
}
